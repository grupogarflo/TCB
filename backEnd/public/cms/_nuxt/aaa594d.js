(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{578:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return l})),o.d(t,"c",(function(){return v}));var r=o(582),n=o(1),d=Object(n.j)("v-card__actions"),c=Object(n.j)("v-card__subtitle"),l=Object(n.j)("v-card__text"),v=Object(n.j)("v-card__title");r.a},756:function(e,t,o){"use strict";o.r(t);o(64),o(28);var r=o(627),n=o(628),d={mixins:[r.validationMixin],validations:{videoId:{required:n.required}},props:["idRegistroSend","claveSend","videoGet"],data:function(){return{videoId:"",auxVideoId:"",url:"https://player.vimeo.com/video/",textoBoton:"Cancelar",isLoading:!1,alertMensajes:!1,typeAlertaMensaje:"success",textoAlertaMesaje:"",options:{muted:!0,autoplay:!0},playerReady:!1,module:10,btnSave:!1}},mounted:function(){0!==this.idRegistroSend&&this.getVideo(),this.getMeLvelUser()},watch:{videoId:function(e,t){this.auxVideoId=this.url+this.videoId}},computed:{videoIdErrors:function(){var e=[];return this.$v.videoId.$dirty?(!this.$v.videoId.required&&e.push("id del  video es necesario."),e):e}},methods:{close:function(){this.$refs.player.pause(),this.$emit("cerrarPop","payload")},save:function(){var e=this;if(this.$v.$touch(),this.$v.$invalid,!this.$v.$invalid){this.isLoading=!0;this.$axios.post("/updateVideoTour",{video:this.videoId,id:this.idRegistroSend,clave:this.claveSend}).then((function(t){e.isLoading=!1,e.alertMensajes=!0,e.typeAlertaMensaje="success",e.textoAlertaMesaje=0===e.idRegistroSend?"Se a guardado el video del tour":"Se a modificado el video del tour",0===e.idRegistroSend?e.$v.$reset():e.textoBoton="Cerrar",setTimeout((function(){return e.alertMensajes=!1}),4500)})).catch((function(t){e.isLoading=!1,e.alertMensajes=!0,e.typeAlertaMensaje="error",e.textoAlertaMesaje="se ha encontrado un error: ".concat(t.response.status," . ").concat(t.response.data.message)}))}},getVideo:function(){var e=this;this.$axios.post("/getVideoTour",{id:this.idRegistroSend}).then((function(t){e.videoId=t.data[0].video,e.auxVideoId=e.url+t.data[0].video})).catch((function(t){e.$v.$reset(),e.isLoading=!1,e.alertMensajes=!0,e.typeAlertaMensaje="error",e.textoAlertaMesaje="se ha encontrado un error: ".concat(t.response.status," no hay informacion disponible")}))},getMeLvelUser:function(){var e=this;try{this.$axios.post("/getMeLevelUser",{idUser:this.$store.state.auth.user.id,idModule:this.module}).then((function(t){for(var o=t.data.data,a=0;a<o.length;a++)3===o[a].cms_actions_id&&(e.btnSave=!0)}))}catch(e){this.error=e.response.data.message,console.log("error"+e)}}}},c=o(54),l=o(77),v=o.n(l),h=o(663),f=o(221),x=o(578),m=o(679),j=o(575),M=o(730),$=o(685),_=o(572),I=o(629),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"formVideoTour"},[t("v-card-text",{attrs:{id:"scrollTop"}},[t("v-container",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{"error-messages":e.videoIdErrors,required:"",label:"Id video vimeo"},on:{input:function(t){return e.$v.videoId.$touch()},blur:function(t){return e.$v.videoId.$touch()}},model:{value:e.videoId,callback:function(t){e.videoId=t},expression:"videoId"}})],1),e._v(" "),t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("iframe",{attrs:{src:e.auxVideoId,width:"640",height:"360",frameborder:"0",allowfullscreen:"",allow:"autoplay; encrypted-media"}})]),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-alert",{staticClass:"text-center",attrs:{"close-text":"Close Alert",border:"right","colored-border":"",elevation:"8",dismissible:"",type:e.typeAlertaMensaje},model:{value:e.alertMensajes,callback:function(t){e.alertMensajes=t},expression:"alertMensajes"}},[e._v(e._s(e.textoAlertaMesaje))]),e._v(" "),t("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{indeterminate:"",height:"5",striped:"",color:"cyan"}})],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(e._s(e.textoBoton))]),e._v(" "),t("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.btnSave,expression:"btnSave"}],attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Guardar")])],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VAlert:h.a,VBtn:f.a,VCardActions:x.a,VCardText:x.b,VCol:m.a,VContainer:j.a,VProgressLinear:M.a,VRow:$.a,VSpacer:_.a,VTextField:I.a})}}]);