(window.webpackJsonp=window.webpackJsonp||[]).push([[39,10,11,21,24],{613:function(t,e,o){"use strict";o.r(e);var n=o(268),r={props:{titleText:"",title:{type:String,default:"0"},discount:{type:String,default:null}}},l=o(44),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return"1"==t.title?e("h1",{staticClass:"title-section"},[t._v(t._s(t.titleText))]):"2"==t.title?e("h2",{staticClass:"title-section"},[t._v(t._s(t.titleText))]):e("h1",{staticClass:"title-section"},[t._v("\n   "+t._s(t.titleText)+"\n   "),null!==t.discount?e(n.a,{staticClass:"text-center ml-5 py-1 discount-detail d-flex-inline",attrs:{color:"#EB008B"}},[t._v("\n      -"+t._s(t._f("discount")(t.discount))+"\n   ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},628:function(t,e,o){"use strict";o.r(e);var n={props:{text:""}},r=o(44),component=Object(r.a)(n,(function(){var t=this;return(0,t._self._c)("p",{staticClass:"paragraph-general"},[t._v(t._s(t.text)+" ")])}),[],!1,null,null,null);e.default=component.exports},637:function(t,e,o){var content=o(659);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("40a77ee2",content,!0,{sourceMap:!1})},638:function(t,e,o){var content=o(661);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("5d915273",content,!0,{sourceMap:!1})},658:function(t,e,o){"use strict";o(637)},659:function(t,e,o){var n=o(17),r=o(21),l=o(22),c=o(23),d=o(24),m=o(25),f=o(26),h=o(27),v=o(28),k=o(29),x=o(30),y=o(31),_=o(32),$=o(33),w=n((function(i){return i[1]}));w.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mulish:wght@200;400;600;700;800&display=swap);"]);var C=r(l),P=r(l,{hash:"#iefix"}),T=r(c),D=r(d),B=r(m,{hash:"#icomoon"}),E=r(f),M=r(f,{hash:"#iefix"}),S=r(h),I=r(v),O=r(k,{hash:"#icomoon"}),j=r(x),U=r(x,{hash:"#iefix"}),z=r(y),A=r(_),R=r($,{hash:"#icomoon"});w.push([t.i,'body[data-v-7a924e3e]{color:#656565;font-family:"Mulish",sans-serif!important;font-size:14px}.v-btn--plain:not(.v-btn--active):not(.v-btn--loading):not(:focus):not(:hover) .v-btn__content[data-v-7a924e3e]{opacity:1!important}.phone-numbers-options[data-v-7a924e3e]{color:#fff!important;font-size:.85rem!important}.videoIcon[data-v-7a924e3e]{cursor:pointer}.title-section[data-v-7a924e3e]{color:#eb008b;font-size:1.5rem}.title-section[data-v-7a924e3e],.title-section2[data-v-7a924e3e]{font-weight:700;text-transform:none}.title-section2[data-v-7a924e3e]{color:#00a6ce!important;font-size:1.15rem}.background-grey[data-v-7a924e3e]{background-color:#f5f4f4!important}.colorRank[data-v-7a924e3e]{color:#eb008b!important}.generalData[data-v-7a924e3e]{color:#00a6ce!important}.category[data-v-7a924e3e]{background-color:#00a6ce!important}.category-text[data-v-7a924e3e],.category-title[data-v-7a924e3e],.language[data-v-7a924e3e]{color:#fff!important}.language[data-v-7a924e3e]{cursor:pointer;-webkit-text-decoration:none;text-decoration:none}.v-application[data-v-7a924e3e]{font-family:"Mulish",sans-serif!important;font-size:1rem}.v-application [class*=text-][data-v-7a924e3e]{color:#36405a;font-family:"Mulish",sans-serif!important}@font-face{font-display:block;font-family:"icomoon";font-style:normal;font-weight:400;src:url('+C+");src:url("+P+') format("embedded-opentype"),url('+T+') format("truetype"),url('+D+') format("woff"),url('+B+') format("svg")}[class*=" icon-"][data-v-7a924e3e],[class^=icon-][data-v-7a924e3e]{font-family:"icomoon"!important;speak:never;font-feature-settings:normal;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-abrir-formulario[data-v-7a924e3e]:before{content:""}.icon-basura[data-v-7a924e3e]:before{content:""}.icon-calendario[data-v-7a924e3e]:before{content:""}.icon-carrito[data-v-7a924e3e]:before{content:""}.icon-cerrar[data-v-7a924e3e]:before{content:""}.icon-cronometro[data-v-7a924e3e]:before{content:""}.icon-estrella[data-v-7a924e3e]:before{content:""}.icon-facebook[data-v-7a924e3e]:before{content:""}.icon-informacion[data-v-7a924e3e]:before{content:""}.icon-instagram[data-v-7a924e3e]:before{content:""}.icon-locacion[data-v-7a924e3e]:before{content:""}.icon-opcion[data-v-7a924e3e]:before{content:""}.icon-pax[data-v-7a924e3e]:before{content:""}.icon-siguiente[data-v-7a924e3e]:before{content:""}.icon-telefono[data-v-7a924e3e]:before{content:""}.icon-whatsapp[data-v-7a924e3e]:before{content:""}@font-face{font-display:block;font-family:"icomoon2";font-style:normal;font-weight:400;src:url('+E+");src:url("+M+') format("embedded-opentype"),url('+S+') format("truetype"),url('+I+') format("woff"),url('+O+') format("svg")}[class*=" icon2-"][data-v-7a924e3e],[class^=icon2-][data-v-7a924e3e]{font-family:"icomoon2"!important;speak:never;font-feature-settings:normal;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon2-alimentos[data-v-7a924e3e]:before{content:""}.icon2-disponibilidad[data-v-7a924e3e]:before{content:""}.icon2-duracion[data-v-7a924e3e]:before{content:""}.icon2-idiomas[data-v-7a924e3e]:before{content:""}.icon2-link[data-v-7a924e3e]:before{content:""}.icon2-mail[data-v-7a924e3e]:before{content:""}.icon2-share-box[data-v-7a924e3e]:before{content:""}.icon2-share[data-v-7a924e3e]:before{content:""}.icon2-transportacion[data-v-7a924e3e]:before{content:""}.icon2-video[data-v-7a924e3e]:before{content:""}.icon2-voucher[data-v-7a924e3e]:before{content:""}.icon2-whatsapp[data-v-7a924e3e]:before{content:""}@font-face{font-display:block;font-family:"icomoon3";font-style:normal;font-weight:400;src:url('+j+");src:url("+U+') format("embedded-opentype"),url('+z+') format("truetype"),url('+A+') format("woff"),url('+R+') format("svg")}[class*=" icon3-"][data-v-7a924e3e],[class^=icon3-][data-v-7a924e3e]{font-family:"icomoon3"!important;speak:never;font-feature-settings:normal;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon3-tripadvisor-cb[data-v-7a924e3e]:before{content:""}.rowMenuMobile[data-v-7a924e3e]{overflow:auto;-webkit-overflow-scrolling:touch}.politics_show[data-v-7a924e3e]{height:20rem!important}',""]),w.locals={},t.exports=w},660:function(t,e,o){"use strict";o(638)},661:function(t,e,o){var n=o(17),r=o(21),l=o(22),c=o(23),d=o(24),m=o(25),f=o(26),h=o(27),v=o(28),k=o(29),x=o(30),y=o(31),_=o(32),$=o(33),w=n((function(i){return i[1]}));w.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Mulish:wght@200;400;600;700;800&display=swap);"]);var C=r(l),P=r(l,{hash:"#iefix"}),T=r(c),D=r(d),B=r(m,{hash:"#icomoon"}),E=r(f),M=r(f,{hash:"#iefix"}),S=r(h),I=r(v),O=r(k,{hash:"#icomoon"}),j=r(x),U=r(x,{hash:"#iefix"}),z=r(y),A=r(_),R=r($,{hash:"#icomoon"});w.push([t.i,'body[data-v-183cb817]{color:#656565;font-family:"Mulish",sans-serif!important;font-size:14px}.v-btn--plain:not(.v-btn--active):not(.v-btn--loading):not(:focus):not(:hover) .v-btn__content[data-v-183cb817]{opacity:1!important}.phone-numbers-options[data-v-183cb817]{color:#fff!important;font-size:.85rem!important}.videoIcon[data-v-183cb817]{cursor:pointer}.title-section[data-v-183cb817]{color:#eb008b;font-size:1.5rem}.title-section[data-v-183cb817],.title-section2[data-v-183cb817]{font-weight:700;text-transform:none}.title-section2[data-v-183cb817]{color:#00a6ce!important;font-size:1.15rem}.background-grey[data-v-183cb817]{background-color:#f5f4f4!important}.colorRank[data-v-183cb817]{color:#eb008b!important}.generalData[data-v-183cb817]{color:#00a6ce!important}.category[data-v-183cb817]{background-color:#00a6ce!important}.category-text[data-v-183cb817],.category-title[data-v-183cb817],.language[data-v-183cb817]{color:#fff!important}.language[data-v-183cb817]{cursor:pointer;-webkit-text-decoration:none;text-decoration:none}.v-application[data-v-183cb817]{font-family:"Mulish",sans-serif!important;font-size:1rem}.v-application [class*=text-][data-v-183cb817]{color:#36405a;font-family:"Mulish",sans-serif!important}@font-face{font-display:block;font-family:"icomoon";font-style:normal;font-weight:400;src:url('+C+");src:url("+P+') format("embedded-opentype"),url('+T+') format("truetype"),url('+D+') format("woff"),url('+B+') format("svg")}[class*=" icon-"][data-v-183cb817],[class^=icon-][data-v-183cb817]{font-family:"icomoon"!important;speak:never;font-feature-settings:normal;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-abrir-formulario[data-v-183cb817]:before{content:""}.icon-basura[data-v-183cb817]:before{content:""}.icon-calendario[data-v-183cb817]:before{content:""}.icon-carrito[data-v-183cb817]:before{content:""}.icon-cerrar[data-v-183cb817]:before{content:""}.icon-cronometro[data-v-183cb817]:before{content:""}.icon-estrella[data-v-183cb817]:before{content:""}.icon-facebook[data-v-183cb817]:before{content:""}.icon-informacion[data-v-183cb817]:before{content:""}.icon-instagram[data-v-183cb817]:before{content:""}.icon-locacion[data-v-183cb817]:before{content:""}.icon-opcion[data-v-183cb817]:before{content:""}.icon-pax[data-v-183cb817]:before{content:""}.icon-siguiente[data-v-183cb817]:before{content:""}.icon-telefono[data-v-183cb817]:before{content:""}.icon-whatsapp[data-v-183cb817]:before{content:""}@font-face{font-display:block;font-family:"icomoon2";font-style:normal;font-weight:400;src:url('+E+");src:url("+M+') format("embedded-opentype"),url('+S+') format("truetype"),url('+I+') format("woff"),url('+O+') format("svg")}[class*=" icon2-"][data-v-183cb817],[class^=icon2-][data-v-183cb817]{font-family:"icomoon2"!important;speak:never;font-feature-settings:normal;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon2-alimentos[data-v-183cb817]:before{content:""}.icon2-disponibilidad[data-v-183cb817]:before{content:""}.icon2-duracion[data-v-183cb817]:before{content:""}.icon2-idiomas[data-v-183cb817]:before{content:""}.icon2-link[data-v-183cb817]:before{content:""}.icon2-mail[data-v-183cb817]:before{content:""}.icon2-share-box[data-v-183cb817]:before{content:""}.icon2-share[data-v-183cb817]:before{content:""}.icon2-transportacion[data-v-183cb817]:before{content:""}.icon2-video[data-v-183cb817]:before{content:""}.icon2-voucher[data-v-183cb817]:before{content:""}.icon2-whatsapp[data-v-183cb817]:before{content:""}@font-face{font-display:block;font-family:"icomoon3";font-style:normal;font-weight:400;src:url('+j+");src:url("+U+') format("embedded-opentype"),url('+z+') format("truetype"),url('+A+') format("woff"),url('+R+') format("svg")}[class*=" icon3-"][data-v-183cb817],[class^=icon3-][data-v-183cb817]{font-family:"icomoon3"!important;speak:never;font-feature-settings:normal;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon3-tripadvisor-cb[data-v-183cb817]:before{content:""}.rowMenuMobile[data-v-183cb817]{overflow:auto;-webkit-overflow-scrolling:touch}.politics_show[data-v-183cb817]{height:20rem!important}',""]),w.locals={},t.exports=w},814:function(t,e,o){"use strict";o.r(e);var n=o(649),r=o(589),l=o(600),c=o(599),d=o(601),m=o(125),f=(o(35),o(61),o(36),o(223),o(892)),h=o(893),v=o(612),k=o(620),x={components:{SectionTitle:o(613).default},mixins:[v.validationMixin],validations:{name:{required:k.required},email:{required:k.required,email:k.email},phone:{required:k.required},selectedCountry:{required:k.required}},data:function(){return{name:"",email:"",phone:"",hotel:"",promoCode:"",alertPromo:!1,textAlertPromo:"",loading:!1,loadingPromo:!1,total:null,radioGroup:"card",countries:f.a.getAllCountries(),states:[],cities:[],selectedCountry:"",selectedState:"",city:""}},computed:{selectedCountryErrors:function(){var t=[];return this.$v.selectedCountry.$dirty?(!this.$v.selectedCountry.required&&t.push(2===this.$store.state.booking.idioma?"Country is required.":"Se requiere el país."),t):t},nameErrors:function(){var t=[];return this.$v.name.$dirty?(!this.$v.name.required&&t.push(this.$t("forms.info.nameValidation")),t):t},emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push(this.$t("forms.info.emailValidation")),!this.$v.email.required&&t.push(this.$t("forms.info.emailValidation2")),t):t},phoneErrors:function(){var t=[];return this.$v.phone.$dirty?(!this.$v.phone.required&&t.push(this.$t("forms.info.phoneValidation")),t):t},hotelErrors:function(){var t=[];return this.$v.hotel.$dirty?(!this.$v.hotel.required&&t.push(this.$t("forms.info.hotelValidation")),t):t},language:function(){return this.$store.getters["booking/languageName"]},tourDetail:function(){return this.$store.getters["booking/tours"]},currency:function(){return this.$store.getters["booking/currency"]},totals:function(){return"ing"===this.language?this.$store.getters["booking/bookingTotal"].usd:this.$store.getters["booking/bookingTotal"].mxn},mobile:function(){return this.isMobile()},languageId:function(){return this.$store.getters["booking/language"]},stateData:function(){return this.$store.getters["booking/getAllStore"]},languageCode:function(){return this.$store.getters["booking/language"]},countrySend:function(){var t=this.selectedCountry,e=this.countries.map((function(element){return element.isoCode})).indexOf(t);return!1!==e?this.countries[e]:{}}},methods:{triggerPayment:function(){if(this.$v.$touch(),this.$v.$invalid)return!1;this.$store.commit("booking/addClient",{name:this.name,email:this.email,phone:this.phone,hotel:this.hotel,country:this.countrySend,state:this.selectedState,city:this.city}),this.sendPreBook()},sendPreBook:function(){var t=this,e=this.$store.getters["booking/getEventUrlBook"];this.loading=!0,this.$axios.post("/preBookEmail",{name:this.name,email:this.email,phone:this.phone,language:this.language,amount:this.totals.usd,currency:this.currency,toursInfo:this.tourDetail,hotel:this.hotel,country:this.countrySend,state:this.selectedState,city:this.city,eventUrlBook:e.data.plattaCode}).then((function(e){t.createPayment()})).catch((function(e){console.log(e),t.loading=!1,t.textErrorBook="some error: ".concat(e.response.status," . ").concat(e.response.data.message)}))},createPayment:function(){var t=this;this.total=this.stateData.tours.total_mxn,"ing"===this.language&&(this.total=this.stateData.tours.total_usd);var e=this.stateData.tours.promocode;void 0!==e&&0!==Object.entries(e).length&&(this.total=e.data_mxn,"ing"===this.language&&(this.total=e.data_usd)),this.$axios.post("/addPayment",{code_book:this.stateData.unicoId,site_book:"yalku.tours",status:"pending",name:this.stateData.client.name,email:this.stateData.client.email,phone:this.stateData.client.phone,language:this.language,amount:this.total,currency:this.stateData.moneda,hotel:this.stateData.client.hotel,toursInfo:this.stateData.tours,merch:this.radioGroup,country:this.countrySend,state:this.selectedState,city:this.city}).then((function(e){t.loading=!1,t.$nuxt.$emit("goPaymentEvent",{client:e.data.data.clientId,total:t.total})}))},validatePromcode:function(){var t=this;this.alertPromo=!1,this.textAlertPromo="",this.loadingPromo=!0;var e=!0;""===this.promoCode&&(this.alertPromo=!0,this.textAlertPromo=this.$t("forms.info.validPromoCode"),e=!1,this.loadingPromo=!1),e&&this.$axios.post("getPromoCode",{id:this.tourDetail.tour_id,date:this.tourDetail.date,promocode:this.promoCode,adult:this.tourDetail.adultos,child:this.tourDetail.ninos,idioma:this.languageId,moneda:this.currency,is_private:this.tourDetail.isPrivate,private_rate:this.tourDetail.isPrivate?this.tourDetail.pax:null}).then((function(e){t.loadingPromo=!1,t.$store.dispatch("booking/setPromocode",e.data)})).catch((function(e){console.log(e.response.data.data),t.alertPromo=!0,t.textAlertPromo=e.response.data.data,t.loadingPromo=!1}))},getState:function(t){this.states=h.a.getStatesOfCountry(t)}}},y=o(44),component=Object(y.a)(x,(function(){var t=this,e=t._self._c;return e("div",[e(c.a,[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("SectionTitle",{attrs:{titleText:t.$t("forms.info.title")}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.nameField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.nameErrors},on:{input:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.emailField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.emailErrors},on:{input:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(d.a,{staticClass:"form-field rounded-lg",attrs:{solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.selectedCountryErrors,"item-text":"name","item-value":"isoCode",items:t.countries,label:t.$t("forms.info.country"),required:""},on:{input:function(e){return t.$v.selectedCountry.$touch()},change:t.getState},model:{value:t.selectedCountry,callback:function(e){t.selectedCountry=e},expression:"selectedCountry"}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(d.a,{staticClass:"rounded-lg",attrs:{items:t.states,label:t.$t("forms.info.state"),solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","item-text":"name","item-value":"isoCode","return-object":""},model:{value:t.selectedState,callback:function(e){t.selectedState=e},expression:"selectedState"}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.city"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.phoneField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.phoneErrors},on:{input:function(e){return t.$v.phone.$touch()}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.hotelField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto"},model:{value:t.hotel,callback:function(e){t.hotel=e},expression:"hotel"}}),t._v(" "),e("span",[t._v(t._s(t.$t("forms.info.alertHotel")))])],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"7",md:"8"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.info.promoCodeField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto"},model:{value:t.promoCode,callback:function(e){t.promoCode=e},expression:"promoCode"}}),t._v(" "),e(n.a,{attrs:{color:"orange",dismissible:"",elevation:"2",type:"info"},model:{value:t.alertPromo,callback:function(e){t.alertPromo=e},expression:"alertPromo"}},[t._v(t._s(t.textAlertPromo))])],1),t._v(" "),e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"5",md:"4"}},[e(r.a,{staticClass:"bookBtn rounded-lg py-5",attrs:{elevation:"0",loading:t.loadingPromo,block:""},on:{click:t.validatePromcode}},[t._v("\n            "+t._s(t.$t("forms.info.btnPromo")))])],1)],1),t._v(" "),e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(r.a,{staticClass:"bookBtn rounded-lg py-5",attrs:{block:"",elevation:"0",loading:t.loading},on:{click:t.triggerPayment}},[t._v("\n            "+t._s(t.$t("forms.info.btnSubmit"))+"\n         ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},815:function(t,e,o){"use strict";o.r(e);var n=o(606),r=o(605),l=o(600),c=o(392),d=o(599),m=(o(35),o(223),{props:{tour:Object},computed:{bookingTotal:function(){var t=this.$store.getters["booking/bookingTotal"],e=this.$store.getters["booking/tours"].promocode;return 2===this.$store.getters["booking/language"]?void 0!==e&&0!==Object.entries(e).length?e.data_usd:t.usd:void 0!==e&&0!==Object.entries(e).length?e.data_mxn:t.mxn},currency:function(){return 2===this.$store.getters["booking/language"]?"USD":"MXN"},promocode:function(){var t=this.$store.getters["booking/tours"].promocode;return void 0!==t&&0!==Object.entries(t).length?t:null},pax:function(){return this.tour.isPrivate?this.tour.namePax:""}}}),f=o(44),component=Object(f.a)(m,(function(){var t=this,e=t._self._c;return e(n.a,{staticClass:"rounded-lg tour-card",attrs:{width:"100%",elevation:"0"}},[e(c.a,{attrs:{height:"278",src:t.tour.img}}),t._v(" "),e(r.b,{staticClass:"px-4 py-0 mt-3 background-grey"},[e(d.a,{staticClass:"px-5 py-5 tour-detail"},[e(l.a,{attrs:{sm:"12"}},[e("p",[t._v(t._s(t.$t("general.tour"))+": "),e("span",{staticClass:"d-block title"},[t._v(t._s(t.tour.name))])]),t._v(" "),e("p",[t._v(t._s(t.$t("general.date"))+": "+t._s(t.tour.date))]),t._v(" "),t.tour.isPrivate?e("p",[t._v("Pax: "+t._s(t.pax))]):e("div",[e("p",[t._v(t._s(t.$t("general.adults"))+": "+t._s(t.tour.adultos))]),t._v(" "),t.tour.ninos>0?e("p",[t._v(t._s(t.$t("general.children"))+": "+t._s(t.tour.ninos))]):t._e()]),t._v(" "),e("p",[t._v(t._s(t.$t("general.duration"))+": "+t._s(t.tour.duration))]),t._v(" "),null!=t.promocode?e("p",[t._v(" Promocode: "+t._s(t.promocode.promocode))]):t._e(),t._v(" "),e("p",[t._v(t._s(t.$t("general.total"))+": "+t._s(t._f("currencyFormat")(t.bookingTotal,t.currency)))])])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},816:function(t,e,o){"use strict";o.r(e);var n=o(600),r=o(263),l=o(599),c={components:{Paragraph:o(628).default}},d=o(44),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e(l.a,{staticClass:"my-5"},[e(n.a,{attrs:{sm:"12",justify:"center",align:"center"}},[e(r.a,{staticClass:"mt-16",attrs:{size:"6rem",color:"#4CAF50"}},[t._v("\n         mdi-checkbox-marked-circle-outline\n         ")]),t._v(" "),e("paragraph",{staticClass:"mt-5",attrs:{text:t.$t("confirmation.title1")}}),t._v(" "),e("paragraph",{attrs:{text:t.$t("confirmation.title2")}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},817:function(t,e,o){"use strict";o.r(e);var n=o(827),r=o(600),l=o(599),c=o(37),d=(o(97),o(35),o(294),o(36),o(657)),m=o.n(d),f={mixins:[o(612).validationMixin],validations:{checkboxTerms:{checked:function(t){return t}}},props:{clientId:null,total:null},data:function(){return{checkboxTerms:!1,radioGroup:"card"}},computed:{currency:function(){return 2===this.$store.getters["booking/language"]?"USD":"MXN"},termsErrors:function(){var t=[];return this.$v.checkboxTerms.$dirty?(!this.$v.checkboxTerms.checked&&t.push(this.$t("forms.payment.terms_condValidation")),t):t},languageId:function(){return this.$store.getters["booking/language"]},stateData:function(){return this.$store.getters["booking/getAllStore"]},language:function(){return this.$store.getters["booking/languageName"]},languageCode:function(){return this.$store.getters["booking/language"]}},mounted:function(){this.loadPayPalScript()},methods:{loadPayPalScript:function(){var t=this,e="https://www.paypal.com/sdk/js?client-id=AXd2q-CJsN2MhkW_DOVp4FqKDIgkJYCxc6MrWna_-OURsfdP95XB6K2uzpqpudtulBhTBeZlmnwk5quc&currency="+this.currency;if(!document.querySelector("#paypal-button-container"))return!1;m()(e,(function(e,script){if(e)return console.error("Error al cargar el script de PayPal",e),!1;var o,n;window.paypal.Buttons({createOrder:(n=Object(c.a)(regeneratorRuntime.mark((function e(data,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.order.create({purchase_units:[{invoice_id:t.clientId,description:"Cancunbay :  Code book: "+t.$store.state.booking.unicoId+" Tour reservation: "+t.$store.state.booking.tours.name+" , adults: "+t.$store.state.booking.tours.adultos+" ,  child: "+t.$store.state.booking.tours.ninos,amount:{currency_code:t.stateData.moneda,value:t.total.toFixed(2)},locale:"ing"===t.language?"en_US":"es_MX"}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t,e){return n.apply(this,arguments)}),onApprove:(o=Object(c.a)(regeneratorRuntime.mark((function e(data,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.order.capture().then((function(details){if(console.log("details  paypal back ",[details]),"COMPLETED"===details.status){t.dialog=!0,t.textErrorBook="";var e=t.$store.getters["booking/getEventUrlBook"];""!==e.data.plattaCode&&t.eventUrlBook(e.data.plattaCode),t.paymentPP(details.id)}else"PROCESSING"===details.status?(t.dialog=!0,t.textErrorBook="Transaction is being processed. Please wait."):"FAILED"===details.status&&(t.dialog=!0,t.textErrorBook="Transaction failed. Please try again later.")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t,e){return o.apply(this,arguments)}),onError:function(t){console.log(t)}}).render("#paypal-button-container")}))},paymentPP:function(t){var e=this;this.$axios.post("/updatePayment",{clientId:this.clientId,authorization:t,status:"complet",idioma:this.languageCode}).then((function(t){e.$nuxt.$emit("confirmation")})).catch((function(t){console.log(t),e.textErrorBook="some error: ".concat(t.response.status," . ").concat(t.response.data.message)}))},eventUrlBook:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,e.$axios.post("/eventUrlBook",{eventUrlBook:t,name:e.$store.state.booking.client.name,email:e.$store.state.booking.client.email,phone:e.$store.state.booking.client.phone,toursInfo:e.$store.state.booking.tours,hotel:e.$store.state.booking.client.hotel,currency:"USD"}).then((function(t){e.$store.dispatch("booking/setEventUrlBook","")}));case 3:o.next=8;break;case 5:o.prev=5,o.t0=o.catch(0),console.log(o.t0);case 8:case"end":return o.stop()}}),o,null,[[0,5]])})))()}}},h=f,v=(o(658),o(44)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return e("div",[e(l.a,[e(r.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(n.a,{staticClass:"mt-0 mb-4 checkbox",attrs:{required:"","error-messages":t.termsErrors,label:t.$t("forms.payment.accept")},model:{value:t.checkboxTerms,callback:function(e){t.checkboxTerms=e},expression:"checkboxTerms"}}),t._v(" "),e("p",[t._v(t._s(t.$t("forms.payment.terms_cond")))]),t._v(" "),e("div",{staticClass:"overflow-y-auto politics_show",domProps:{innerHTML:t._s(t.$t("book_politics.content"))}})],1)],1),t._v(" "),e(l.a,{class:[t.checkboxTerms?"d-block":"d-none","mt-5"]},[e(r.a,{attrs:{cols:"12"}},[e("div",{attrs:{id:"paypal-button-container"}})])],1)],1)}),[],!1,null,"7a924e3e",null);e.default=component.exports},818:function(t,e,o){"use strict";o.r(e);var n=o(649),r=o(827),l=o(600),c=o(599),d=o(37),m=(o(97),o(294),o(65),o(36),o(35),o(612)),f=o(672),h={mixins:[m.validationMixin],validations:{checkboxTerms:{checked:function(t){return t}}},props:{clientId:null,total:null},data:function(){return{checkboxTerms:!1,radioGroup:"card",mp:null,bricksBuilder:null,accessToken:null,client_info:null,showAlert:!1,textErrorBook:"",showAlertPending:!1,textErrorBookPending:""}},computed:{currency:function(){return 2===this.$store.getters["booking/language"]?"USD":"MXN"},termsErrors:function(){var t=[];return this.$v.checkboxTerms.$dirty?(!this.$v.checkboxTerms.checked&&t.push(this.$t("forms.payment.terms_condValidation")),t):t},languageId:function(){return this.$store.getters["booking/language"]},stateData:function(){return this.$store.getters["booking/getAllStore"]},language:function(){return this.$store.getters["booking/languageName"]},languageCode:function(){return this.$store.getters["booking/language"]},bookingTotal:function(){var t=this.$store.getters["booking/bookingTotal"];return console.log(t),2===this.$store.getters["booking/language"]?Math.ceil(t.usd.toFixed(2)):Math.ceil(t.mxn.toFixed(2))}},mounted:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t.init()}),500)}))},methods:{init:function(){var t=this;this.$axios.post("/mercado-pago/getToken",{tourData:this.stateData.tours,currency:this.currency,total:parseFloat(this.bookingTotal),clientId:this.clientId}).then((function(e){t.token=e.data.token_id,t.renderPaymentBrick()})).catch((function(t){return console.log(t)}))},renderPaymentBrick:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(f.loadMercadoPago)(),t.mp=new window.MercadoPago("APP_USR-63cac48c-ec59-45f7-be27-bb160c6bf4fa",{locale:"es-AR"}),t.bricksBuilder=t.mp.bricks(),o={initialization:{amount:parseFloat(t.bookingTotal),preferenceId:t.token,marketplace:!0},customization:{visual:{style:{theme:"default"}},paymentMethods:{creditCard:"all",debitCard:"all",ticket:"all",bankTransfer:"all",atm:"all",onboarding_credits:"all",wallet_purchase:"all",maxInstallments:12}},callbacks:{onReady:function(){},onSubmit:function(e){var o=e.selectedPaymentMethod,n=e.formData;t.$axios.post("/mercado-pago/process_payment",{formData:n,method:o,clientId:t.clientId,tour:t.stateData.tours}).then((function(e){console.log(e),"approved"!==e.data.status&&"pending"!==e.data.status&&(t.showAlert=!0,t.textErrorBook=t.$t("forms.payment.error"));var n=t.$store.getters["booking/getEventUrlBook"];""!==n.data.plattaCode&&t.eventUrlBook(n.data.plattaCode),t.paymentPP(e.data.id,e.data.status,o,e.data)})).catch((function(t){console.log(t)}))},onError:function(t){console.error(t)}}},e.next=6,t.bricksBuilder.create("payment","paymentBrick_container",o);case 6:case"end":return e.stop()}}),e)})))()},paymentPP:function(t,e,o,n){var r=this;this.$axios.post("/updatePayment",{clientId:this.clientId,authorization:String(t),status:e,idioma:this.languageCode,merch:o}).then((function(t){"ticket"!==o?r.$nuxt.$emit("confirmation"):(r.showAlertPending=!0,r.textErrorBookPending=r.$t("forms.payment.redirect"),setTimeout((function(){window.location.href=n.details.external_resource_url}),4e3))})).catch((function(t){console.log(t),r.textErrorBook="some error: ".concat(t.response.status," . ").concat(t.response.data.message)}))},eventUrlBook:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,e.$axios.post("/eventUrlBook",{eventUrlBook:t,name:e.$store.state.booking.client.name,email:e.$store.state.booking.client.email,phone:e.$store.state.booking.client.phone,toursInfo:e.$store.state.booking.tours,hotel:e.$store.state.booking.client.hotel,currency:"USD"}).then((function(t){e.$store.dispatch("booking/setEventUrlBook","")}));case 3:o.next=8;break;case 5:o.prev=5,o.t0=o.catch(0),console.log(o.t0);case 8:case"end":return o.stop()}}),o,null,[[0,5]])})))()}}},v=(o(660),o(44)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return e("div",[e(c.a,[e(l.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(r.a,{staticClass:"mt-0 mb-4 checkbox",attrs:{required:"","error-messages":t.termsErrors,label:t.$t("forms.payment.accept")},model:{value:t.checkboxTerms,callback:function(e){t.checkboxTerms=e},expression:"checkboxTerms"}}),t._v(" "),e("p",[t._v(t._s(t.$t("forms.payment.terms_cond")))]),t._v(" "),e("div",{staticClass:"overflow-y-auto politics_show",domProps:{innerHTML:t._s(t.$t("book_politics.content"))}})],1)],1),t._v(" "),e(c.a,{class:[t.checkboxTerms?"d-block":"d-none","mt-5"]},[e(l.a,{attrs:{cols:"12"}},[e("div",{attrs:{id:"paymentBrick_container"}}),t._v(" "),t.showAlert?e(n.a,{staticClass:"mt-3",attrs:{border:"right","colored-border":"",type:"error",elevation:"2",dismissible:""}},[t._v("\n            "+t._s(t.textErrorBook)+"\n         ")]):t._e(),t._v(" "),t.showAlertPending?e(n.a,{staticClass:"mt-3",attrs:{border:"right","colored-border":"",type:"warning",elevation:"2",dismissible:""}},[t._v("\n            "+t._s(t.textErrorBookPending)+"\n         ")]):t._e()],1)],1)],1)}),[],!1,null,"183cb817",null);e.default=component.exports},899:function(t,e,o){"use strict";o.r(e);var n=o(606),r=o(605),l=o(600),c=o(603),d=o(266),m=o(599),f=o(669),h=o(666),v=o(670),k=o(37),x=(o(97),o(43),o(50),o(35),o(61),o(814)),y=o(815),_=o(816),$=o(817),w=o(818),C={components:{InformationForm:x.default,TourDetail:y.default,Confirmation:_.default,MercadoPago:w.default,Paypal:$.default},data:function(){return{steps:1,total:0,clientId:0,img:"es"===this.$i18n.locale?"/images/layout/100_reembolsable.svg":"/images/layout/100_money-back.svg",siteD:"es"===this.$i18n.locale?"MXN":"USD"}},computed:{tourDetail:function(){return this.$store.getters["booking/tours"]},alto:function(){return this.isMobile?500:468},route:function(){return!!this.$route.name.includes("checkout")},mobile:function(){return this.isMobile()}},mounted:function(){var t=this;this.getTotalTour(),this.$nuxt.$on("goPaymentEvent",(function(e){t.clientId=e.client,t.total=e.total,t.steps=2})),this.$nuxt.$on("confirmation",(function(){t.steps=3}))},methods:{getTotalTour:function(){var t=this;return Object(k.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.tourDetail.isPrivate){e.next=6;break}return e.next=4,t.$axios.post("/getTotal",{id:t.tourDetail.tour_id,adult:t.tourDetail.adultos,child:t.tourDetail.ninos,idioma:t.$store.getters["booking/language"]}).then((function(e){t.total=t.$store.dispatch("booking/setTotal",{usd:e.data.data,mxn:e.data.data_mxn})}));case 4:e.next=9;break;case 6:o=t.tourDetail.rates,!1!==(n=o.map((function(element){return element.pax})).indexOf(t.tourDetail.pax))&&(t.total=t.$store.dispatch("booking/setTotal",{usd:parseFloat(o[n].real_price),mxn:parseFloat(o[n].real_price_mxn)}));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t.error=e.t0.response.data.message,console.log("error"+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},P=o(44),component=Object(P.a)(C,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"py-16",attrs:{id:"checkout"}},[e(m.a,{attrs:{justify:"center"}},[e(l.a,{attrs:{sm:"12",md:"6"}},[e(f.a,{staticClass:"steps",attrs:{flat:"",outlined:""},model:{value:t.steps,callback:function(e){t.steps=e},expression:"steps"}},[e(h.a,[e(v.a,{attrs:{step:"1",complete:t.steps>1,color:"white"}},[t._v("\n                     "+t._s(t.$t("checkout.steps.information"))+"\n\n                  ")]),t._v(" "),e(d.a,{staticClass:"mx-3 divider mr-5"}),t._v(" "),e(v.a,{attrs:{step:"2",complete:t.steps>2,color:"white"}},[t._v("\n                     "+t._s(t.$t("checkout.steps.pay"))+"\n\n                  ")]),t._v(" "),e(d.a,{staticClass:"mx-3 divider ml-5"}),t._v(" "),e(v.a,{attrs:{step:"3",complete:t.steps>3,color:"white"}},[t._v("\n                     "+t._s(t.$t("checkout.steps.ticket"))+"\n\n                  ")])],1)],1)],1)],1),t._v(" "),e(m.a,{staticClass:"mt-10"},[e(l.a,{attrs:{cols:"12",md:"6",order:t.mobile?"2":"1"}},[e(n.a,{class:["py-5",3==t.steps?"elevation-0":""],attrs:{width:"100%"}},[e(r.b,[e("InformationForm",{class:[1==t.steps?"d-block":"d-none"]}),t._v(" "),"USD"===t.siteD?e("paypal",{class:[2==t.steps?"d-block":"d-none"],attrs:{clientId:t.clientId,total:t.total}}):e("mercadoPago",{class:[2==t.steps?"d-block":"d-none"],attrs:{clientId:t.clientId,total:t.total}}),t._v(" "),e("confirmation",{class:[3==t.steps?"d-block":"d-none"]})],1)],1),t._v(" "),t.mobile?e(m.a,{class:t.route?"d-flex mt-10 text-center":"d-none",attrs:{align:"baseline","no-gutters":""}},[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/visa.svg",width:t.mobile?"14%":"18%"}}),t._v(" "),e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/mastercard.svg",width:(t.mobile,"8%")}}),t._v(" "),e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/americanexpress.svg",width:t.mobile?"14%":"18%"}}),t._v(" "),e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/paypal.svg",width:t.mobile?"14%":"18%"}})])],1):t._e(),t._v(" "),t.mobile?e(m.a,{class:t.route?"d-flex":"d-none"},[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("client-only",[e("img",{staticClass:"logo mx-auto",attrs:{src:t.img,width:t.mobile?"100%":"82%"}})])],1)],1):t._e()],1),t._v(" "),e(l.a,{attrs:{cols:"12",md:"6",order:t.mobile?"1":"2"}},[e("TourDetail",{attrs:{tour:t.tourDetail}}),t._v(" "),t.mobile?t._e():e(m.a,{class:t.route?"d-flex mt-10 text-center":"d-none",attrs:{align:"baseline","no-gutters":""}},[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/visa.svg",width:t.mobile?"14%":"18%"}}),t._v(" "),e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/mastercard.svg",width:(t.mobile,"8%")}}),t._v(" "),e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/americanexpress.svg",width:t.mobile?"14%":"18%"}}),t._v(" "),e("img",{staticClass:"logo mx-4 d-inline-flex",attrs:{src:"/images/layout/paypal.svg",width:t.mobile?"14%":"18%"}})])],1),t._v(" "),t.mobile?t._e():e(m.a,{class:t.route?"d-flex":"d-none"},[e(l.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("client-only",[e("img",{staticClass:"logo mx-auto",attrs:{src:t.img,width:t.mobile?"100%":"82%"}})])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);