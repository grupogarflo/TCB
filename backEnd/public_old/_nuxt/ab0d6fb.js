(window.webpackJsonp=window.webpackJsonp||[]).push([[14,23],{625:function(t,e,r){"use strict";r.r(e);var n=r(274),o={props:{titleText:"",title:{type:String,default:"0"},discount:{type:String,default:null}}},l=r(42),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return"1"==t.title?e("h1",{staticClass:"title-section"},[t._v(t._s(t.titleText))]):"2"==t.title?e("h2",{staticClass:"title-section"},[t._v(t._s(t.titleText))]):e("h1",{staticClass:"title-section"},[t._v("\n   "+t._s(t.titleText)+"\n   "),null!==t.discount?e(n.a,{staticClass:"text-center ml-5 py-1 discount-detail d-flex-inline",attrs:{color:"#EB008B"}},[t._v("\n      -"+t._s(t._f("discount")(t.discount))+"\n   ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},893:function(t,e,r){var map={"./af":683,"./af.js":683,"./ar":684,"./ar-dz":685,"./ar-dz.js":685,"./ar-kw":686,"./ar-kw.js":686,"./ar-ly":687,"./ar-ly.js":687,"./ar-ma":688,"./ar-ma.js":688,"./ar-ps":689,"./ar-ps.js":689,"./ar-sa":690,"./ar-sa.js":690,"./ar-tn":691,"./ar-tn.js":691,"./ar.js":684,"./az":692,"./az.js":692,"./be":693,"./be.js":693,"./bg":694,"./bg.js":694,"./bm":695,"./bm.js":695,"./bn":696,"./bn-bd":697,"./bn-bd.js":697,"./bn.js":696,"./bo":698,"./bo.js":698,"./br":699,"./br.js":699,"./bs":700,"./bs.js":700,"./ca":701,"./ca.js":701,"./cs":702,"./cs.js":702,"./cv":703,"./cv.js":703,"./cy":704,"./cy.js":704,"./da":705,"./da.js":705,"./de":706,"./de-at":707,"./de-at.js":707,"./de-ch":708,"./de-ch.js":708,"./de.js":706,"./dv":709,"./dv.js":709,"./el":710,"./el.js":710,"./en-au":711,"./en-au.js":711,"./en-ca":712,"./en-ca.js":712,"./en-gb":713,"./en-gb.js":713,"./en-ie":714,"./en-ie.js":714,"./en-il":715,"./en-il.js":715,"./en-in":716,"./en-in.js":716,"./en-nz":717,"./en-nz.js":717,"./en-sg":718,"./en-sg.js":718,"./eo":719,"./eo.js":719,"./es":720,"./es-do":721,"./es-do.js":721,"./es-mx":722,"./es-mx.js":722,"./es-us":723,"./es-us.js":723,"./es.js":720,"./et":724,"./et.js":724,"./eu":725,"./eu.js":725,"./fa":726,"./fa.js":726,"./fi":727,"./fi.js":727,"./fil":728,"./fil.js":728,"./fo":729,"./fo.js":729,"./fr":730,"./fr-ca":731,"./fr-ca.js":731,"./fr-ch":732,"./fr-ch.js":732,"./fr.js":730,"./fy":733,"./fy.js":733,"./ga":734,"./ga.js":734,"./gd":735,"./gd.js":735,"./gl":736,"./gl.js":736,"./gom-deva":737,"./gom-deva.js":737,"./gom-latn":738,"./gom-latn.js":738,"./gu":739,"./gu.js":739,"./he":740,"./he.js":740,"./hi":741,"./hi.js":741,"./hr":742,"./hr.js":742,"./hu":743,"./hu.js":743,"./hy-am":744,"./hy-am.js":744,"./id":745,"./id.js":745,"./is":746,"./is.js":746,"./it":747,"./it-ch":748,"./it-ch.js":748,"./it.js":747,"./ja":749,"./ja.js":749,"./jv":750,"./jv.js":750,"./ka":751,"./ka.js":751,"./kk":752,"./kk.js":752,"./km":753,"./km.js":753,"./kn":754,"./kn.js":754,"./ko":755,"./ko.js":755,"./ku":756,"./ku-kmr":757,"./ku-kmr.js":757,"./ku.js":756,"./ky":758,"./ky.js":758,"./lb":759,"./lb.js":759,"./lo":760,"./lo.js":760,"./lt":761,"./lt.js":761,"./lv":762,"./lv.js":762,"./me":763,"./me.js":763,"./mi":764,"./mi.js":764,"./mk":765,"./mk.js":765,"./ml":766,"./ml.js":766,"./mn":767,"./mn.js":767,"./mr":768,"./mr.js":768,"./ms":769,"./ms-my":770,"./ms-my.js":770,"./ms.js":769,"./mt":771,"./mt.js":771,"./my":772,"./my.js":772,"./nb":773,"./nb.js":773,"./ne":774,"./ne.js":774,"./nl":775,"./nl-be":776,"./nl-be.js":776,"./nl.js":775,"./nn":777,"./nn.js":777,"./oc-lnc":778,"./oc-lnc.js":778,"./pa-in":779,"./pa-in.js":779,"./pl":780,"./pl.js":780,"./pt":781,"./pt-br":782,"./pt-br.js":782,"./pt.js":781,"./ro":783,"./ro.js":783,"./ru":784,"./ru.js":784,"./sd":785,"./sd.js":785,"./se":786,"./se.js":786,"./si":787,"./si.js":787,"./sk":788,"./sk.js":788,"./sl":789,"./sl.js":789,"./sq":790,"./sq.js":790,"./sr":791,"./sr-cyrl":792,"./sr-cyrl.js":792,"./sr.js":791,"./ss":793,"./ss.js":793,"./sv":794,"./sv.js":794,"./sw":795,"./sw.js":795,"./ta":796,"./ta.js":796,"./te":797,"./te.js":797,"./tet":798,"./tet.js":798,"./tg":799,"./tg.js":799,"./th":800,"./th.js":800,"./tk":801,"./tk.js":801,"./tl-ph":802,"./tl-ph.js":802,"./tlh":803,"./tlh.js":803,"./tr":804,"./tr.js":804,"./tzl":805,"./tzl.js":805,"./tzm":806,"./tzm-latn":807,"./tzm-latn.js":807,"./tzm.js":806,"./ug-cn":808,"./ug-cn.js":808,"./uk":809,"./uk.js":809,"./ur":810,"./ur.js":810,"./uz":811,"./uz-latn":812,"./uz-latn.js":812,"./uz.js":811,"./vi":813,"./vi.js":813,"./x-pseudo":814,"./x-pseudo.js":814,"./yo":815,"./yo.js":815,"./zh-cn":816,"./zh-cn.js":816,"./zh-hk":817,"./zh-hk.js":817,"./zh-mo":818,"./zh-mo.js":818,"./zh-tw":819,"./zh-tw.js":819};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=893},911:function(t,e,r){"use strict";r.r(e);var n=r(660),o=r(602),l=r(832),c=r(613),d=r(612),m=r(615),h=r(128),j=r(899),f=(r(34),r(227),r(35),r(619)),v=r.n(f),y=r(624),k=r(631),$={components:{SectionTitle:r(625).default},mixins:[y.validationMixin],validations:{name:{required:k.required},email:{required:k.required,email:k.email},card:{required:k.required},month:{required:k.required},year:{required:k.required},cvv:{required:k.required,numeric:k.numeric},checkboxTerms:{checked:function(t){return t}}},data:function(){return{name:"",email:"",card:"",month:"",year:"",cvv:"",checkboxTerms:!1,radioGroup:"card",showAlert:!1,loading:!1}},computed:{months:function(){for(var t=[],i=1;i<13;i++){var e=i;i<10&&(e="0"+e),t.push(e)}return t},years:function(){for(var t=v()().year(),e=v()().add(30,"y").year(),r=[],i=t;i<e;i++)r.push(i);return r},nameErrors:function(){var t=[];return this.$v.name.$dirty?(!this.$v.name.required&&t.push(this.$t("forms.payment.nameValidation")),t):t},emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push(this.$t("forms.info.emailValidation")),!this.$v.email.required&&t.push(this.$t("forms.info.emailValidation2")),t):t},cardErrors:function(){var t=[];return this.$v.card.$dirty?(!this.$v.card.required&&t.push(this.$t("forms.payment.cardValidation")),t):t},monthErrors:function(){var t=[];return this.$v.month.$dirty?(!this.$v.month.required&&t.push(this.$t("forms.payment.monthValidation")),t):t},yearErrors:function(){var t=[];return this.$v.year.$dirty?(!this.$v.year.required&&t.push(this.$t("forms.payment.yearValidation")),t):t},cvvErrors:function(){var t=[];return this.$v.cvv.$dirty?(!this.$v.cvv.required&&t.push(this.$t("forms.payment.cvvValidation")),t):t},termsErrors:function(){var t=[];return this.$v.checkboxTerms.$dirty?(!this.$v.checkboxTerms.checked&&t.push(this.$t("forms.payment.terms_condValidation")),t):t},stateData:function(){return this.$store.getters["booking/getAllStore"]},language:function(){return this.$store.getters["booking/languageName"]},languageCode:function(){return this.$store.getters["booking/language"]},mobile:function(){return this.isMobile()}},methods:{newTab:function(){var t=this.localePath({name:"terms"});window.open(t,"_blank","noreferrer")},nextStep:function(){var t=this;if(this.loading=!0,this.showAlert=!1,this.$v.$touch(),!this.$v.$invalid||!this.showCampos){this.dialog=!0,this.textErrorBook="";var e=this.stateData.tours.total_mxn;"ing"===this.language&&(e=this.stateData.tours.total_usd);var r=this.stateData.tours.promocode;void 0!==r&&0!==Object.entries(r).length&&(e=r.data_mxn,"ing"===this.language&&(e=r.data_usd)),this.$axios.post("/addPayment",{code_book:this.stateData.unicoId,site_book:"yalku.tours",status:"pending",name:this.stateData.client.name,email:this.stateData.client.email,phone:this.stateData.client.phone,language:this.language,amount:e,currency:this.stateData.moneda,hotel:this.stateData.client.hotel,toursInfo:this.stateData.tours,merch:this.radioGroup}).then((function(e){t.makePay(e.data.data.clientId)})).catch((function(e){console.log(e),t.textErrorBook="some error: ".concat(e.response.status," . ").concat(e.response.data.message),t.showAlert=!0,t.loading=!1}))}},makePay:function(t){var e,r=this;e="card"===this.radioGroup?"/paymentProcess":"/paymentTransferBank";var n=this.stateData.tours.total_mxn;"ing"===this.language&&(n=this.stateData.tours.total_usd);var o=this.stateData.tours.promocode;void 0!==o&&0!==Object.entries(o).length&&(n=o.data_mxn,"ing"===this.language&&(n=o.data_usd)),this.$axios.post(e,{card_no:this.card,expiry_mounth:this.month,expiry_year:this.year,cvc:this.cvv,name:this.name,email:this.email,uniqueId:this.stateData.unicoId,currency:this.stateData.moneda,descriptionItem:"YALKU: Tour reservation "+this.stateData.tours.name+" adults: "+this.stateData.tours.adultos+" child: "+this.stateData.tours.ninos,amount:n,paymentMethodType:"card",clientidd:t,language:this.languageCode}).then((function(e){200===e.data.status?r.updatePayment(t,e.data.id):(r.textErrorBook="error: ".concat(e.data.code," . ").concat(e.data.message),r.showAlert=!0,r.loading=!1)})).catch((function(t){console.log(t),r.textErrorBook="error: ".concat(t.response.status," . ").concat(t.response.data.message),r.showAlert=!0,r.loading=!1}))},updatePayment:function(t,e){var r=this;this.$axios.post("/updatePayment",{clientId:t,authorization:e,status:"complet",idioma:this.languageCode}).then((function(t){r.loading=!1,r.$nuxt.$emit("confirmation")})).catch((function(t){console.log(t),r.textErrorBook="some error: ".concat(t.response.status," . ").concat(t.response.data.message),r.showAlert=!0,r.loading=!1}))},clickRadio:function(){console.log(this.radioGroup),"card"===this.radioGroup?(this.textBoton="Pay",this.showCampos=!0):(this.textBoton="Continue",this.showCampos=!1)}}},x=r(42),component=Object(x.a)($,(function(){var t=this,e=t._self._c;return e("div",[e(d.a,[e(c.a,{staticClass:"text-center",attrs:{cols:"12"}},[e("SectionTitle",{attrs:{titleText:t.$t("forms.payment.title")}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(h.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.payment.nameField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.nameErrors},on:{input:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(h.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.payment.emailField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.emailErrors},on:{input:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(h.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.payment.cardField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.cardErrors},on:{input:function(e){return t.$v.card.$touch()}},model:{value:t.card,callback:function(e){t.card=e},expression:"card"}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"6"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{items:t.months,placeholder:t.$t("forms.payment.monthField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.monthErrors},on:{input:function(e){return t.$v.month.$touch()}},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),t._v(" "),e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"6"}},[e(m.a,{staticClass:"form-field rounded-lg",attrs:{items:t.years,placeholder:t.$t("forms.payment.yearField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto","error-messages":t.yearErrors},on:{input:function(e){return t.$v.year.$touch()}},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(h.a,{staticClass:"form-field rounded-lg",attrs:{placeholder:t.$t("forms.payment.cvvField"),dense:"",solo:"","single-line":"",filled:"",flat:"","hide-details":"auto",type:"password","error-messages":t.cvvErrors},on:{input:function(e){return t.$v.cvv.$touch()}},model:{value:t.cvv,callback:function(e){t.cvv=e},expression:"cvv"}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(l.a,{staticClass:"mt-0 mb-4 checkbox",attrs:{required:"","error-messages":t.termsErrors},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",[t._v("\n                     "+t._s(t.$t("forms.payment.accept"))+"\n                     "),e(j.a,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on;return[e(o.a,t._g({staticClass:"px-0 btnTerms",attrs:{text:""},on:{click:t.newTab}},n),[t._v("\n\n                           "+t._s(t.$t("forms.payment.terms_cond"))+"\n                        ")])]}}])},[t._v("\n                      "+t._s(t.$t("forms.payment.tooltip"))+"\n                     ")])],1)]},proxy:!0}]),model:{value:t.checkboxTerms,callback:function(e){t.checkboxTerms=e},expression:"checkboxTerms"}})],1)],1),t._v(" "),e(d.a,[e(c.a,{class:[t.mobile?"":"px-8"],attrs:{cols:"12"}},[e(o.a,{staticClass:"bookBtn rounded-lg py-5",attrs:{block:"",elevation:"0",loading:t.loading},on:{click:t.nextStep}},[t._v(t._s(t.$t("forms.payment.btnSubmit")))]),t._v(" "),t.showAlert?e(n.a,{staticClass:"mt-3",attrs:{border:"right","colored-border":"",type:"error",elevation:"2",dismissible:""}},[t._v("\n            "+t._s(t.textErrorBook)+"\n         ")]):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);